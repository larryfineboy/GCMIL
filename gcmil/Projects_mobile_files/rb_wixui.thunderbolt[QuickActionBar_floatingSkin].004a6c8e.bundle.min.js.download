!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[QuickActionBar_floatingSkin]",["react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[QuickActionBar_floatingSkin]"]=t(require("react")):e["rb_wixui.thunderbolt[QuickActionBar_floatingSkin]"]=t(e.React)}("undefined"!=typeof self?self:this,(function(e){return function(){var t={96114:function(e,t,n){var o;!function(t){"use strict";var i=function(){},r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function a(){var e=this;e.reads=[],e.writes=[],e.raf=r.bind(t),i("initialized",e)}function c(e){e.scheduled||(e.scheduled=!0,e.raf(s.bind(null,e)),i("flush scheduled"))}function s(e){i("flush");var t,n=e.writes,o=e.reads;try{i("flushing reads",o.length),e.runTasks(o),i("flushing writes",n.length),e.runTasks(n)}catch(e){t=e}if(e.scheduled=!1,(o.length||n.length)&&c(e),t){if(i("task errored",t.message),!e.catch)throw t;e.catch(t)}}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}a.prototype={constructor:a,runTasks:function(e){var t;for(i("run tasks");t=e.shift();)t()},measure:function(e,t){i("measure");var n=t?e.bind(t):e;return this.reads.push(n),c(this),n},mutate:function(e,t){i("mutate");var n=t?e.bind(t):e;return this.writes.push(n),c(this),n},clear:function(e){return i("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(i("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new a;void 0===(o=function(){return u}.call(u,n,u,e))||(e.exports=o)}("undefined"!=typeof window?window:void 0!==this?this:globalThis)},5329:function(t){"use strict";t.exports=e},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,o),r.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";o.r(i),o.d(i,{components:function(){return N}});var e=o(448),t=o.n(e),n=o(5329);function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}var a=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o};const c="wixui-",s=(e,...t)=>{const n=[];return e&&n.push(`${c}${e}`),t.forEach((e=>{e&&(n.push(`${c}${e}`),n.push(e))})),n.join(" ")},l=()=>"undefined"!=typeof window,u=e=>Object.entries(e).reduce(((e,[t,n])=>(t.includes("data-")&&(e[t]=n),e)),{});const d=(e,o)=>{const{compId:i,className:r,text:c,svgString:s,itemType:l,hasNotifications:d,color:f,link:p={},skinStyles:m={},clickHandler:h,keyDownHandler:v,role:y,tabIndex:k}=e,{linkPopupId:g,href:b,anchorDataId:x,anchorCompId:w,target:A}=p,C=f?{"--color":f}:void 0;return n.createElement("a",t()({id:i},u(e),{"aria-label":c,"data-quick-action":"action","data-aid":l,"data-anchor":x,"data-anchor-comp-id":w,onClick:h,onKeyDown:v,className:a(r,m.action),href:b,target:A,ref:o,style:C,"data-popupid":g},y&&{role:y},void 0!==k&&{tabIndex:k}),n.createElement("div",{className:m.icon,"data-quick-action":"icon",dangerouslySetInnerHTML:{__html:s}}),n.createElement("div",{className:m.text,"data-quick-action":"text"},c),d&&n.createElement("div",{className:m.notifications,"data-quick-action":"notifications"}))};var f=n.forwardRef(d),p=o(96114),m=o.n(p);function h(){if(!l())return{x:0,y:0,isAtPageBottom:!1};const{left:e,top:t}=document.body.getBoundingClientRect();return{x:e,y:t,isAtPageBottom:window.innerHeight+window.scrollY===document.body.scrollHeight}}var v={root:"quick-action-bar"};const y={black:"0,0,0",grey:"128,128,128",brand:void 0};function k(e,t){return"dynamicAction-"+e+"-"+t}var g=e=>{const{id:o,className:i,customClassNames:r=[],skin:c,skinStyles:d,items:p=[],dynamicActions:g=[],translations:b,onOpen:x,onClose:w,onTrackEvent:A,maxActions:C,hideText:B,alignment:P,isFloating:I=!1,colorScheme:T,isColorSchemeInverted:M,isHidden:O=!1,shouldSetPositionAbsoluteAtPageBottom:E,onQuickActionBarItemClicked:D,onMouseEnter:N=(()=>{}),onMouseLeave:S=(()=>{}),openActionBar:L,closeActionBar:_,reportBiOnMenuButtonClick:j,reportBiOnMenuItemClick:R,isOpen:q}=e,F="left"===P,H=p.length,Q=g.length,U=Math.min(C-Q,H),z=U+Q,G=z>0,[K,W]=(0,n.useState)(!1);!function(e,t,o){void 0===o&&(o={}),o={waitFor:100,disabled:!1,...o};const i=(0,n.useRef)(h());let r=null;const a=()=>{m().measure((()=>{const t=h(),n=i.current;i.current=t,r=null,m().mutate((()=>e({prevPos:n,currPos:t})))}))};(l()?n.useLayoutEffect:n.useEffect)((()=>{if(!l())return;const e=()=>{null===r&&(r=window.setTimeout(a,o.waitFor))};return o.disabled?()=>{}:(window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e),r&&window.clearTimeout(r)})}),t)}((e=>{let{currPos:t}=e;return n=t.isAtPageBottom,void W(n);var n}),[]);const X=(e,t)=>{["phone","email","whatsapp","line"].includes(e)?A("Lead",{action:e+" clicked",label:"Mobile Action Bar | "+t}):A("CustomEvent",{eventCategory:"Engagement",eventAction:t+" clicked",eventLabel:"Mobile Action Bar"})},$=n.useRef(x),V=n.useRef(w);n.useEffect((()=>{q?null==$.current||$.current():null==V.current||V.current()}),[q]);const Y=I&&z>1,J=n.useRef(null);const Z=b.menuButtonAriaLabel||"Quick action menu",ee={root:a(i,[d.root],[d["action-count-"+z]],s(v.root,...r),{[d["hide-text"]]:B,[d.closed]:!q,[d["align-left"]]:F,[d.hidden]:O}),action:a(d.action,{[d.inverted]:M}),icon:d.icon,svg:d.svg,text:d.text,controlButton:d.controlButton,notifications:d.notifications,dots:d.dots,firstDot:d.firstDot,secondDot:d.secondDot,thirdDot:d.thirdDot,separator:d.separator,actionsContainer:d.actionsContainer,overlay:d.overlay},te=n.useRef(null);function ne(e){var t;"Tab"!==e.key||e.shiftKey||(e.preventDefault(),e.stopPropagation(),null==(t=te.current)||t.focus())}const oe={isOpen:q,position:E&&K?"absolute":"fixed"},ie={onClick:_},re={ariaLabel:Z||"",ariaExpanded:q,onClick:function(){null==j||j(!!q),q?_():L()},onKeyDown:function(e){var t;Y&&q&&"Tab"===e.key&&e.shiftKey&&(e.preventDefault(),e.stopPropagation(),null==(t=J.current)||t.focus())}},ae={display:Y&&!q?"none":""},ce=!q&&g.some((e=>e.hasNotifications)),se=function(e){return y[e]}(T);return n.createElement(c,t()({},u(e),{"data-has-actions":G,"data-is-open":q,rootProps:oe,overlayProps:ie,controlButtonProps:re,actionsContainerProps:ae,hasNotifications:ce,classes:ee,ref:te,id:o,style:{visibility:G?"visible":"hidden","--predefined-color":se},onMouseEnter:N,onMouseLeave:S}),function(){const e=[],i=p.slice(0,U).concat(g.map(((e,t)=>{let{text:n,itemType:i,svgString:r,hasNotifications:a,color:c,onActivate:s}=e;return{compId:k(o,t),text:n,itemType:i,svgString:r,role:"button",tabIndex:0,hasNotifications:a,color:c,clickHandler(){null==R||R({text:n,itemType:i}),X(i,n),null==D||D({type:"quickActionBarItemClicked",item:{itemType:i,label:n,link:""},actionIndex:t}),_(),s()}}})));return i.forEach(((o,r)=>{const{itemType:a,text:c,link:s}=o,l=r===i.length-1,u={skinStyles:ee,clickHandler:()=>{var e;null==R||R({text:c,link:s,itemType:a}),X(a,c),null==D||D({item:{itemType:o.itemType,label:o.text,link:(null==(e=o.link)?void 0:e.href)||""},actionIndex:r,type:"quickActionBarItemClicked"}),_()},...o};(e=>I&&e)(l)?(u.ref=J,u.keyDownHandler=ne):u.ref=null,e.push(n.createElement(f,t()({},u,{key:o.compId}))),l||e.push(n.createElement("div",{className:ee.separator,key:r,"data-quick-action":"separator"}))})),e}())};const b=(e,o)=>{const{rootProps:i,actionsContainerProps:r,hasNotifications:a,controlButtonProps:c,classes:s={},id:l,onMouseEnter:u,onMouseLeave:d}=e,f={display:i.display,position:i.position,...e.style};return n.createElement("div",{className:s.root,style:f,id:l,onMouseEnter:u,onMouseLeave:d},n.createElement("div",{className:s.overlay,onClick:e.overlayProps.onClick}),n.createElement("button",{className:s.controlButton,"aria-label":c.ariaLabel,"aria-expanded":c.ariaExpanded,onClick:c.onClick,ref:o},a&&n.createElement("div",{className:s.notifications,"data-quick-action":"notifications"}),n.createElement("ul",{className:s.dots},n.createElement("li",{className:s.firstDot}),n.createElement("li",{className:s.secondDot}),n.createElement("li",{className:s.thirdDot}))),n.createElement("div",t()({className:s.actionsContainer},r,{style:{display:r.display},id:l+"actionsContainer"}),e.children))};var x=n.forwardRef(b),w={rootClass:"RUXDFT",root:"Y3P79X",notifications:"_fFDfn","notify-chat":"eGH6Xi",notifyChat:"eGH6Xi",actionsContainer:"rJUq1e",action:"axweOX",icon:"tPFN6O",text:"kh_lvM",inverted:"wIbB0R","hide-text":"BP30xe",hideText:"BP30xe",hidden:"WB9Y75",overlay:"BQp3Kg",controlButton:"tQeg56",dots:"AOQAUu",firstDot:"kMW8sM",secondDot:"WrDNua",thirdDot:"kWzcjs",separator:"gpmyu8",closed:"iAHSYN","action-count-1":"IVDlOC",actionCount1:"IVDlOC","action-count-0":"pcnb21",actionCount0:"pcnb21","align-left":"BBkoOl",alignLeft:"BBkoOl"};const A=(e,o)=>n.createElement(x,t()({},e,{ref:o}));var C=e=>n.createElement(g,t()({},e,{isFloating:!0,skin:n.forwardRef(A),skinStyles:w}));const B=e=>e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`));var P;!function(e){e.Text="Text",e.Menu="Menu",e.Image="Image",e.Input="Input",e.Login="Login",e.Button="Button",e.Social="Social",e.Gallery="Gallery",e.Community="Community",e.Decorative="Decorative",e.MenuAndSearch="MenuAndSearch",e.MenuAndAnchor="MenuAndAnchor"}(P||(P={}));const I=e=>"linkPopupId"in e,T=(e,t)=>{if(I(e))return e.linkPopupId;{const{pagesMap:n,mainPageId:o}=t||{};if(!n)return;const i=new URL(e.href??"");let r=Object.values(n).find((({pageUriSEO:e})=>!!e&&i.pathname?.includes(e)));return r||(r=o?n[o]:void 0),r?.pageId}},M=e=>{if(void 0!==e)return null===e?"None":e.type},O=(e,t)=>{if(!e?.type)return;const{type:n}=e;switch(n){case"AnchorLink":return e.anchorDataId;case"DocumentLink":return e.docInfo?.name;case"PageLink":const n=T(e,t);return n&&t?.pagesMap?.[n]?.title;default:return e.href}},E=(e,t,n)=>{const{link:o,value:i,details:r,actionName:a,elementType:c,trackClicksAnalytics:s,pagesMetadata:l,...u}=t;if(!s)return;const d=l&&{...l,pagesMap:window.viewerModel?.siteFeaturesConfigs?.router?.pagesMap},f=((e,t)=>{if(!e?.type)return;const{type:n}=e;switch(n){case"AnchorLink":return(e=>"anchorDataId"in e&&("SCROLL_TO_TOP"===e.anchorDataId||"SCROLL_TO_BOTTOM"===e.anchorDataId))(e)?void 0:{id:e.anchorDataId};case"DocumentLink":return{id:e.docInfo?.docId};case"PageLink":return{id:T(e,t),isLightbox:I(e)};default:return}})(o,d),p=r||f?JSON.stringify({...f,...r}):void 0;e({src:76,evid:1113,...{...u,bl:navigator.language,url:window.location.href,details:p,elementType:c??"Unknown",actionName:a??M(o),value:i??O(o,d)}},{endpoint:"pa",...n})};var D;const N={QuickActionBar_floatingSkin:{component:C,controller:(D=e=>{let{mapperProps:t,controllerUtils:n,stateValues:o}=e;const{trackEvent:i,reportBi:r}=o,{updateProps:a}=n,{compId:c,language:s,mainPageId:l,fullNameCompType:u,trackClicksAnalytics:d,...f}=t,p={language:s,trackClicksAnalytics:d,element_id:c,elementType:u,elementGroup:P.Menu};return{...f,reportBiOnMenuItemClick:e=>{const{text:t,itemType:n,link:o}=e;E(r,{...p,link:o,elementTitle:t,details:{itemType:n},pagesMetadata:{mainPageId:l}})},reportBiOnMenuButtonClick:e=>{E(r,{...p,value:e})},onTrackEvent(e,t){i&&i({eventName:e,params:t})},openActionBar:()=>{a({isOpen:!0})},closeActionBar:()=>{a({isOpen:!1})}}},{useComponentProps:(e,t,n)=>{const o=(e=>({...e,updateStyles:t=>{const n=Object.entries(t).reduce(((e,[t,n])=>{return{...e,[(o=t,o.startsWith("--")?t:B(t))]:void 0===n?null:n};var o}),{});e.updateStyles(n)}}))(n);return D({mapperProps:e,stateValues:t,controllerUtils:o})}})}}}(),i}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[QuickActionBar_floatingSkin].004a6c8e.bundle.min.js.map